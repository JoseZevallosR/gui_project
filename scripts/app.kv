<LoadDialog>:
    BoxLayout:
        size: root.size
        pos: root.pos
        orientation: "vertical"
        FileChooserListView:
            id: filechooser

        BoxLayout:
            size_hint_y: None
            height: 30
            Button:
                text: "Cancel"
                on_release: root.cancel()

            Button:
                text: "Load"
                on_release: root.load(filechooser.path, filechooser.selection)

<SaveDialog>:
    text_input: text_input
    BoxLayout:
        size: root.size
        pos: root.pos
        orientation: "vertical"
        FileChooserListView:
            id: filechooser
            on_selection: text_input.text = self.selection and self.selection[0] or ''

        Label:
			text: "File name"
			size_hint_y: None
			height:30

        TextInput:
            id: text_input
            size_hint_y: None
            height: 30
            multiline: False

        BoxLayout:
            size_hint_y: None
            height: 30
            Button:
                text: "Cancel"
                on_release: root.cancel()

            Button:
                text: "Save"
                on_release: root.save(filechooser.path, text_input.text)

<ProjectDialog>:
	
    text_input: text_input
    BoxLayout:
        size: root.size
        pos: root.pos
        orientation: "vertical"
        FileChooserListView:
            id: filechooser
            on_selection: text_input.text = self.selection and self.selection[0] or ''

        Label:
			text: "Project name"
			size_hint_y: None
			height:30

        TextInput:
            id: text_input
            size_hint_y: None
            height: 30
            multiline: False

        BoxLayout:
            size_hint_y: None
            height: 30
            Button:
                text: "Cancel"
                on_release: root.cancel()

            Button:
                text: "Save"
                on_release: root.create_project(filechooser.path, text_input.text)

<Label>:
	size_hint: (0.25,0.1)

<Button>:
	size_hint: (0.25,0.1)

<TextInput>:
	size_hint: (0.5,0.1)


<TupacMaster>:
	orientation: 'vertical'

	MDToolbar:
		title: "Tupac Flow"

	MDBottomNavigation:

		MDBottomNavigationItem:
			name: 'screen 1'
			text: 'Project'
			icon: 'folder'


			BoxLayout:
				padding : 20
				spacing: 20

				orientation : 'vertical'
				size : root.width , root.height

				Image:
					source: '../img/regional_model.PNG'

				
				GridLayout:
					cols : 2
					row_force_default: True
					row_default_height: 30
					spacing: 2

					Label:
						text: "EPCG"

					TextInput:

					Label:
						text: "Time Unit"

					TextInput:

					Label:
						text: "Starting Date"

					TextInput:

				Button:
					text: "Create Project"
					size_hint : .3,0.3
					pos_hint: {'center_x':0.5,'center_y':0.1}
					on_release: root.show_project()
				
		

		MDBottomNavigationItem:
			name: 'screen 2'
			text: 'Voronoi Mesh'
			icon: 'city'

			

			FloatLayout:

				Label:
					text: "Geometry Constraints"
					size_hint:(1,0.1)
					pos_hint: {'x':0,'y':0.9}
				Label:
					text: "Limit Layer"
					pos_hint: {'x':0,'y':0.8}
				TextInput:
					id: limit_layer
					pos_hint: {'x':0.25,'y':0.8}
				Button:
					text: 'Load'
					pos_hint: {'x':0.75,'y':0.8}
					on_release: root.show_load('limit_layer')

				Label:
					text: "Wells"
					pos_hint: {'x':0,'y':0.7}
				TextInput:
					id: well_layer
					pos_hint: {'x':0.25,'y':0.7}
				Button:
					text: 'Load'
					pos_hint: {'x':0.75,'y':0.7}
					on_release: root.show_load('well_layer')	

				Label:
					text: "Rivers"
					pos_hint: {'x':0,'y':0.6}
				TextInput:
					id: river_layer
					pos_hint: {'x':0.25,'y':0.6}
				Button:
					text: 'Load'
					pos_hint: {'x':0.75,'y':0.6}
					on_release: root.show_load('river_layer')	

				Label:
					text: "Drains"
					pos_hint: {'x':0,'y':0.5}
				TextInput:
					id : drain_layer
					pos_hint: {'x':0.25,'y':0.5}
				Button:
					text: 'Load'
					pos_hint: {'x':0.75,'y':0.5}
					on_release: root.show_load('drain_layer')	

				Label:
					text: 'Max refinement'
					pos_hint: {'x':0,'y':0.4}
				TextInput:
					size_hint: (0.25,0.1)
					pos_hint: {'x':0.25,'y':0.4}

				Label:
					text: 'Min refinement'
					pos_hint: {'x':0,'y':0.3}
				TextInput:
					size_hint: (0.25,0.1)
					pos_hint: {'x':0.25,'y':0.3}

				Button:
					text: 'Mesh'
					pos_hint: {'x':0,'y':0.2}
					on_release: root.mesh()

				Button:
					text: 'Plot'
					pos_hint: {'x':0,'y':0.1}
					on_release: root.plot_mesh()
				BoxLayout:
					id: box
					pos_hint: {'x':0.5,'y':0}
					size_hint: (0.5,0.5)
		

		MDBottomNavigationItem:
			name: 'screen 3'
			text: 'Vertical Mesh'
			icon: 'border-vertical'

			
			BoxLayout:
				id: boxz
				size_hint_y: 0.8
				pos_hint: {"top": 1}

			BoxLayout:
				size_hint_y: 0.2
				TextInput:
					id: namer
					multiline: False

				Button:
					text: "plot"
					on_release: root.plot_mesh()