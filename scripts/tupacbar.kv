<LoadDialog>:
    BoxLayout:
        size: root.size
        pos: root.pos
        orientation: "vertical"
        FileChooserListView:
            id: filechooser

        BoxLayout:
            size_hint_y: None
            height: 30
            Button:
                text: "Cancel"
                on_release: root.cancel()

            Button:
                text: "Load"
                on_release: root.load(filechooser.path, filechooser.selection)

<SaveDialog>:
    text_input: text_input
    BoxLayout:
        size: root.size
        pos: root.pos
        orientation: "vertical"
        FileChooserListView:
            id: filechooser
            on_selection: text_input.text = self.selection and self.selection[0] or ''

        Label:
			text: "File name"
			size_hint_y: None
			height:30

        TextInput:
            id: text_input
            size_hint_y: None
            height: 30
            multiline: False

        BoxLayout:
            size_hint_y: None
            height: 30
            Button:
                text: "Cancel"
                on_release: root.cancel()

            Button:
                text: "Save"
                on_release: root.save(filechooser.path, text_input.text)

<ProjectDialog>:
    text_input: text_input
    BoxLayout:
        size: root.size
        pos: root.pos
        orientation: "vertical"
        FileChooserListView:
            id: filechooser
            on_selection: text_input.text = self.selection and self.selection[0] or ''

        Label:
			text: "Project name"
			size_hint_y: None
			height:30

        TextInput:
            id: text_input
            size_hint_y: None
            height: 30
            multiline: False

        BoxLayout:
            size_hint_y: None
            height: 30
            Button:
                text: "Cancel"
                on_release: root.cancel()

            Button:
                text: "Save"
                on_release: root.create_project(filechooser.path, text_input.text)

<TupacMaster>:
	orientation: 'vertical'

	MDToolbar:
		title: "Tupac Flow"

	MDBottomNavigation:

		MDBottomNavigationItem:
			name: 'screen 1'
			text: 'Project'
			icon: 'folder'


			BoxLayout:
				padding : 20
				spacing: 20

				orientation : 'vertical'
				size : root.width , root.height

				Image:
					source: '../img/regional_model.PNG'


				

				GridLayout:
					cols : 2
					row_force_default: True
					row_default_height: 30
					spacing: 2

					Label:
						text: "EPCG"

					TextInput:

					Label:
						text: "Time Unit"

					TextInput:

					Label:
						text: "Starting Date"

					TextInput:

				Button:
					text: "Create Project"
					size_hint : .3,0.3
					pos_hint: {'center_x':0.5,'center_y':0.1}
					on_release: root.show_project()
				
		

		MDBottomNavigationItem:
			name: 'screen 2'
			text: 'Voronoi Mesh'
			icon: 'city'

			BoxLayout:
				padding : 20
				orientation: "vertical"
				size : root.width , root.height

				Label:
					text: "Geometry Constraints"

				GridLayout:
					cols : 3					
					row_default_height: 30
					row_force_default: True
					center : root.width/2, root.height/2
					spacing: 2

					Label:
						text: "Limit Layer"
					TextInput:
						id: limit_layer
					Button:
						text:"Load"
						on_release: root.show_load('limit_layer')

					Label:
						text: "Wells"
					TextInput:
						id: well_layer
					Button:
						text:"Load"
						on_release: root.show_load('well_layer')

					Label:
						text: "Rivers"
					TextInput:
						id: river_layer
					Button:
						text:"Load"
						on_release: root.show_load('river_layer')

					Label:
						text: "Drains"
					TextInput:
						id : drain_layer
					Button:
						text:"Load"
						on_release: root.show_load('drain_layer')

				Widget:

				GridLayout:
					cols : 2
					size_hint : .6,0.9
					pos_hint: {'center_x':0.55}

					row_default_height: 30
					row_force_default: True
					
					spacing: 2


					Label:
						text: 'maximum refinement'
						size_hint : (None,None)
						size: 200,30

					TextInput:
						id: max_ref
						size_hint : (None,None)
						size: 80,30

					Label:
						text: 'minimum refinement'
						size_hint : (None,None)
						size: 200,30

					TextInput:
						id: min_ref
						size_hint : (None,None)
						size: 80,30


				GridLayout:
					cols: 1
					row_default_height: 30
					row_force_default: True
					pos_hint: {'center_x':0.65}

					size_hint : .5,.5
					spacing: 2
					Button:
						text: "Generate Mesh"
						size_hint : (None,None)
						size: 150,30
						
						on_release: root.mesh()

					Button:
						text: "Save"
						size_hint : (None,None)
						size: 150,30

					Button:
						text: "Plot"
						size_hint : (None,None)
						size: 150,30

				Widget:


		MDBottomNavigationItem:
			name: 'screen 3'
			text: 'Vertical Mesh'
			icon: 'border-vertical'

			MDLabel:
				text: 'Insta'
				halign: 'center'